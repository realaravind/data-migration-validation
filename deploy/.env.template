# Ombudsman Validation Studio - Environment Configuration
# Copy this file to /opt/ombudsman/.env and fill in your values

# ==============================================
# SQL Server Connection
# ==============================================
MSSQL_HOST=your-sql-server-host
MSSQL_PORT=1433
MSSQL_USER=your-username
MSSQL_PASSWORD=your-password
MSSQL_DATABASE=your-database

# Alternative: Full connection string (overrides individual settings above)
# SQLSERVER_CONN_STR=DRIVER={ODBC Driver 18 for SQL Server};SERVER=your-host,1433;DATABASE=your-db;UID=your-user;PWD=your-password;TrustServerCertificate=yes;

# ==============================================
# Snowflake Connection
# ==============================================
SNOWFLAKE_USER=your-snowflake-user
SNOWFLAKE_PASSWORD=your-snowflake-password
SNOWFLAKE_ACCOUNT=your-account-identifier
SNOWFLAKE_WAREHOUSE=COMPUTE_WH
SNOWFLAKE_ROLE=ACCOUNTADMIN
SNOWFLAKE_DATABASE=your-database
SNOWFLAKE_SCHEMA=PUBLIC

# ==============================================
# Ollama Configuration (for AI-powered mapping)
# ==============================================
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2

# ==============================================
# Notification Settings
# ==============================================
NOTIFICATIONS_ENABLED=true

# Email/SMTP Settings (optional)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@example.com
SMTP_FROM_NAME=Ombudsman Validation Studio
SMTP_USE_TLS=true

# Slack Settings (optional)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=

# Webhook Settings (optional)
WEBHOOK_URL=
WEBHOOK_TIMEOUT=30

# ==============================================
# Security Settings
# ==============================================
# Generate a secure secret key: openssl rand -hex 32
SECRET_KEY=your-secure-secret-key-here

# JWT token expiration (in minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ==============================================
# Application Settings
# ==============================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# CORS origins (comma-separated)
CORS_ORIGINS=https://your-domain.com

# ==============================================
# Path Configuration
# ==============================================
# Set ENVIRONMENT to 'production' for production paths
# All paths are derived from these base directories
ENVIRONMENT=production

# Base data directory - all data subdirectories are created under this
# Default (production): /var/lib/ombudsman/data
# Default (development): ./data (relative to backend directory)
OMBUDSMAN_DATA_DIR=/var/lib/ombudsman/data

# Core config directory - contains relationships.yaml, tables.yaml, etc.
# Default (production): /opt/ombudsman/core/src/ombudsman/config
# Default (development): ../ombudsman_core/src/ombudsman/config
OMBUDSMAN_CORE_DIR=/opt/ombudsman/core/src/ombudsman/config

# Log directory
# Default: /var/log/ombudsman
OMBUDSMAN_LOG_DIR=/var/log/ombudsman

# The following subdirectories are automatically created under OMBUDSMAN_DATA_DIR:
# - projects/       : Project configurations and data
# - pipelines/      : Pipeline YAML files
# - batch_jobs/     : Batch job definitions and state
# - batch_templates/: Reusable batch templates
# - auth/           : Authentication database (SQLite)
# - results/        : Validation results
# - queries/        : Query history
# - workloads/      : Workload analysis data
# - audit_logs/     : Audit trail logs
# - mapping_intelligence/: ML mapping data
