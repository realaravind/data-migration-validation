metadata:
  name: dim_customer_workload_validation
  description: Workload-based validations for dim_customer
  generated_from: workload_wl_20260112_035211_811caf2b
  project_id: default_project
  created_at: '2026-01-12T03:57:13.358087'
  validation_count: 2
  active: true
source:
  type: sqlserver
  database: ${SQL_DATABASE}
  schema: sample_dim
  table: dim_customer
target:
  type: snowflake
  database: ${SNOWFLAKE_DATABASE}
  schema: SAMPLE_DIM
  table: DIM_CUSTOMER
steps:
- name: validation_1_workload_query
  type: comparative
  description: Actual workload query (executed 1250 times)
  confidence: 95.0
  enabled: true
  validator: custom_sql
  config:
    sql_query: SELECT COUNT(*) FROM sample_dim.dim_customer
    snow_query: SELECT COUNT(*) FROM SAMPLE_DIM.DIM_CUSTOMER
    compare_mode: result_set
    tolerance: 0.01
    ignore_column_order: true
    ignore_row_order: false
  metadata:
    query_id: 1
    validation_type: workload_query
    total_executions: 0
    avg_duration_ms: 45.3
- name: validation_2_workload_query
  type: comparative
  description: Actual workload query (executed 890 times)
  confidence: 95.0
  enabled: true
  validator: custom_sql
  config:
    sql_query: SELECT c.customer_name, p.product_name, s.discount_amount FROM sample_dim.dim_customer
      c INNER JOIN sample_fact.fact_sales s ON c.customer_key = s.dim_customer_key
      INNER JOIN sample_dim.dim_product p ON s.dim_product_key = p.product_key WHERE
      s.discount_amount > 1000
    snow_query: SELECT c.customer_name, p.product_name, s.discount_amount FROM SAMPLE_DIM.DIM_CUSTOMER
      c INNER JOIN SAMPLE_FACT.FACT_SALES s ON c.customer_key = s.dim_customer_key
      INNER JOIN SAMPLE_DIM.DIM_PRODUCT p ON s.dim_product_key = p.product_key WHERE
      s.discount_amount > 1000
    compare_mode: result_set
    tolerance: 0.01
    ignore_column_order: true
    ignore_row_order: false
  metadata:
    query_id: 10
    validation_type: workload_query
    total_executions: 0
    avg_duration_ms: 312.8
