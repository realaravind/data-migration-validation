metadata:
  name: dim_customer_comparative_validation
  description: Comparative validations from Query Store for dim.dim_customer
  generated_from: workload_wl_20251203_055320_5ba568b3
  project_id: dw
  created_at: '2025-12-03T05:53:47.859575'
  validation_count: 2
  validation_type: comparative
source:
  type: sqlserver
  database: ${SQL_DATABASE}
  schema: dim
  table: dim_customer
target:
  type: snowflake
  database: ${SNOWFLAKE_DATABASE}
  schema: DIM
  table: DIM_CUSTOMER
steps:
- name: comparative_validation_1_query_1
  type: comparative
  validator: custom_sql
  description: 'Compare query results between SQL Server and Snowflake (Query ID:
    1)'
  enabled: true
  config:
    sql_server_query: SELECT COUNT(*) FROM DIM.dim_customer
    snowflake_query: SELECT COUNT(*) FROM DIM.DIM_CUSTOMER
    compare_mode: result_set
    tolerance: 0.0
    ignore_column_order: true
    ignore_row_order: false
  metadata:
    query_id: 1
    total_executions: 1250
    avg_duration_ms: 45.3
    last_execution_time: '2024-12-01T10:30:00'
- name: comparative_validation_2_query_10
  type: comparative
  validator: custom_sql
  description: 'Compare query results between SQL Server and Snowflake (Query ID:
    10)'
  enabled: true
  config:
    sql_server_query: SELECT c.customer_name, p.product_name, s.discount_amount FROM
      DIM.dim_customer c INNER JOIN FACT.fact_sales s ON c.customer_key = s.dim_customer_key
      INNER JOIN DIM.dim_product p ON s.dim_product_key = p.product_key WHERE s.discount_amount
      > 1000
    snowflake_query: SELECT c.customer_name, p.product_name, s.discount_amount FROM
      DIM.DIM_CUSTOMER c INNER JOIN FACT.FACT_SALES s ON c.customer_key = s.dim_customer_key
      INNER JOIN DIM.DIM_PRODUCT p ON s.dim_product_key = p.product_key WHERE s.discount_amount
      > 1000
    compare_mode: result_set
    tolerance: 0.0
    ignore_column_order: true
    ignore_row_order: false
  metadata:
    query_id: 10
    total_executions: 890
    avg_duration_ms: 312.8
    last_execution_time: '2024-12-01T20:00:00'
